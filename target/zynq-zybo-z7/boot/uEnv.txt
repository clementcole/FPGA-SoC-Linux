linux_kernel_image=zImage-4.14.21-armv7-fpga
linux_fdt_image=devicetree-4.14.21-zynq-zybo-z7.dtb
fpga_load_cmd=fatload mmc 0 ${kernel_addr_r} design_1_wrapper.bit && fpga loadb 0 ${kernel_addr_r} $filesize
slcr_unlock_cmd=mw.l 0xF8000008 0xDF0D 
slcr_lock_cmd=mw.l 0xF8000004 0x767B
fpga_set_cmd=run slcr_unlock_cmd && mw.l 0xF8000170 0x00100A00 && run slcr_lock_cmd
linux_load_cmd=fatload mmc 0 ${kernel_addr_r} ${linux_kernel_image} && fatload mmc 0 ${fdt_addr_r} ${linux_fdt_image}
linux_boot_cmd=setenv bootargs console=ttyPS0,115200 root=/dev/mmcblk0p2 rw rootwait uio_pdrv_genirq.of_id=generic-uio && bootz ${kernel_addr_r} - ${fdt_addr_r}
uenvcmd=run linux_load_cmd && run linux_boot_cmd

bootmenu_env_existence_test=test -e ${bootenv_dev} 0 ${bootmenu_env_file}
bootmenu_env_load=load ${bootenv_dev} 0 ${loadbootenv_addr} ${bootmenu_env_file}
bootmenu_env_import=env import -t ${loadbootenv_addr} $filesize
bootmenu_env_set=if env run bootmenu_env_existence_test; then if env run bootmenu_env_load; then env run bootmenu_env_import; fi; fi;
bootmenu_env_cmd=if env run bootmenu_env_set; then if test -n $uenvcmd; then env run uenvcmd; fi; fi;

bootmenu_0=Boot Default=boot
